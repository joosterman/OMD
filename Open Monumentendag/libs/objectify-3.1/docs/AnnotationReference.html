
 



 



<html>
 <head>
 <title>AnnotationReference</title>
 </head>
 <body>
 




<div id="wikipage">
<table>
 <tr>
 
 
 <td style="vertical-align:top; padding-left:5px">
 
 <div id="wikiheader">
 
 <span style="font-size:120%;font-weight:bold">AnnotationReference</span>
 &nbsp;
 <div> 
 
 <i>The annotations used by Objectify</i>
 
 
 
 <div id="wikiauthor" style="float:right">
 Updated <span title="Wed May 12 00:30:48 2010">
 May 12, 2010</span>
 
 by <a style="white-space: nowrap" href="/u/118411191005855432292/">lhori...@gmail.com</a>
 
 </div>
 </div>
 </div>
 
 <div id="wikicontent">
 <div class="vt" id="wikimaincol">
 <h1><a name="Example"></a>Example<a href="#Example" class="section_anchor"></a></h1><pre class="prettyprint">@Cached(expirationSeconds=600)
@Entity(name=&quot;Emp&quot;)
@Indexed // or @Unindexed sets default for fields in class; if neither specified, assume @Indexed
class Employee {
   @Id long id;
   @Parent Key&lt;Company&gt; employer;

   @Unindexed int vacationDays;

   // field value WILL be serialized (eg, with GWT) but will NOT be persisted in the datastore
   @Transient int notPersistent;

   // field value will NOT be serialized (eg, with GWT) but WILL be persisted in the datastore
   transient int notSerialized;

   // field getting renamed
   @AlsoLoad(&quot;boss&quot;) Key&lt;Employee&gt; manager;

   String firstName;
   String lastName;

   // we used to store fullName, now we store first and last separately
   public void oldWay(@AlsoLoad(&quot;fullName&quot;) String fullName)
   {
       String[] split = fullName.split(&quot; &quot;);
       firstName = split[0];
       lastName = split[1];
   }

   static class Office {
      String building;
      String room;
   }

   // Allows you to query for employess in a building by filtering on &quot;offices.building&quot;
   @Embedded Office[] offices;

   // Whatever gets put here will be serialized out and back (and cannot be filtered)
   @Seralized Object misc;

   @PostLoad void onLoad() { /* do something after load */ }
   @PrePersist void onPersist() { /* do something before persisting */ }
}</pre><h1><a name="The_Annotations"></a>The Annotations<a href="#The_Annotations" class="section_anchor"></a></h1><h2><a name="@javax.persistence.Entity"></a>@javax.persistence.Entity<a href="#@javax.persistence.Entity" class="section_anchor"></a></h2><ul><li>Optional, can be placed on a class. </li><li>Optionally specifies the name of a kind, ie <tt>@Entity(name=&quot;Person&quot;)</tt> </li></ul><h2><a name="@com.googlecode.objectify.annotation.Entity"></a>@com.googlecode.objectify.annotation.Entity<a href="#@com.googlecode.objectify.annotation.Entity" class="section_anchor"></a></h2><ul><li>An alternate annotation that behaves the same as javax.persistence.Entity. </li><li>Won&#x27;t be recognized by any classpath scanning tools that look for the other annotation. </li></ul><h2><a name="@javax.persistence.Id"></a>@javax.persistence.Id<a href="#@javax.persistence.Id" class="section_anchor"></a></h2><ul><li>Must be placed on one and only one field of an @Entity class </li><li>Field must be type <tt>Long</tt>, <tt>long</tt>, or <tt>String</tt> </li><li>If used on type <tt>Long</tt>, null values will be autogenerated on put() </li></ul><h2><a name="@com.googlecode.objectify.annotation.Indexed"></a>@com.googlecode.objectify.annotation.Indexed<a href="#@com.googlecode.objectify.annotation.Indexed" class="section_anchor"></a></h2><ul><li>Placed on a field or class. </li><li>When placed on a class, sets the default state for all fields of the class. </li><li>Can take <tt>If</tt> conditions which allow partial indexing. </li><li>@Indexed state is inherited by embedded classes and their fields, but can be overriden with @Unindexed. </li><li>Indexed fields cost more space and cpu time to store, but can be queried on. </li><li>Translates to <tt>Entity.setProperty()</tt> at the low-level api. </li><li>Unless otherwise specified, all classes default to @Indexed. </li></ul><h2><a name="@com.googlecode.objectify.annotation.Unindexed"></a>@com.googlecode.objectify.annotation.Unindexed<a href="#@com.googlecode.objectify.annotation.Unindexed" class="section_anchor"></a></h2><ul><li>Placed on a field or class. </li><li>When placed on a class, sets the default state for all fields of the class. </li><li>Can take <tt>If</tt> conditions which allow partial indexing. </li><li>@Unindexed state is inherited by embedded classes and their fields, but can be overridden with @Indexed. </li><li>Unindexed fields consume less space and require less cpu time to store, but cannot be queried for. </li><li>Translates to <tt>Entity.setUnindexedProperty()</tt> at the low-level api. </li></ul><h2><a name="@com.googlecode.objectify.annotation."></a>@com.googlecode.objectify.annotation.NotSaved<a href="#@com.googlecode.objectify.annotation." class="section_anchor"></a></h2><ul><li>Placed on a field. </li><li>Can take <tt>If</tt> conditions which specify particular values which are not saved. </li><li>Field is still loaded as normal. </li></ul><h2><a name="@com.googlecode.objectify.annotation."></a>@com.googlecode.objectify.annotation.AlsoLoad<a href="#@com.googlecode.objectify.annotation." class="section_anchor"></a></h2><ul><li>Placed on a field or the single parameter to a method </li><li>Requires one value, the name of a property in the datastore to load into the field. </li><li>Example:  <tt>@AlsoLoad(&quot;whatThisFieldUsedToBeCalled&quot;)</tt> </li><li>Causes the field to be loaded from an alternate name in the underlying datastore </li><li>If placed on the parameter to a method that takes a single parameter, the method will be called with the datastore value </li><li>If there is a load conflict with the true name of field, an IllegalStateException will be thrown. </li></ul><h2><a name="@com.googlecode.objectify.annotation.Parent"></a>@com.googlecode.objectify.annotation.Parent<a href="#@com.googlecode.objectify.annotation.Parent" class="section_anchor"></a></h2><ul><li>Placed on at most one field of type <tt>Key</tt> </li><li>Defines the entity group parent for an entity </li></ul><h2><a name="@com.googlecode.objectify.annotation.Cached"></a>@com.googlecode.objectify.annotation.Cached<a href="#@com.googlecode.objectify.annotation.Cached" class="section_anchor"></a></h2><ul><li>Placed on an entity class </li><li>Stores entity data in a write-through cache for faster read performance </li><li>Allows you to specify the expiration of entities in the cache </li></ul><h2><a name="@javax.persistence.Embedded"></a>@javax.persistence.Embedded<a href="#@javax.persistence.Embedded" class="section_anchor"></a></h2><ul><li>Placed on an entity field, or the field of any class embedded in an entity. </li><li>Field can be any custom type or a collection or array of your custom type. </li><li>See the <a href="http://code.google.comIntroductionToObjectify.html#@Embedded" rel="nofollow">@Embedded</a> documentation. </li></ul><h2><a name="@com.googlecode.objectify.annotation.Serialized"></a>@com.googlecode.objectify.annotation.Serialized<a href="#@com.googlecode.objectify.annotation.Serialized" class="section_anchor"></a></h2><ul><li>Placed on any entity field of Serializable type </li><li>Causes the object graph at that point to be stored as a serialized Blob. </li><li>Can be used on fields inside @Embedded classes. </li><li>See the <a href="http://code.google.comIntroductionToObjectify.html#@Serialized" rel="nofollow">@Serialized</a> documentation. </li></ul><h2><a name="@javax.persistence."></a>@javax.persistence.PostLoad<a href="#@javax.persistence." class="section_anchor"></a></h2><ul><li>Placed on any method that either takes no parameters or a single parameter of type Entity. </li><li>Called after the POJO is populated with data. </li><li>Can be specified on multiple methods in this class or any base class. </li><li>Methods are called in declared order, with superclass methods first. </li></ul><h2><a name="@javax.persistence."></a>@javax.persistence.PrePersist<a href="#@javax.persistence." class="section_anchor"></a></h2><ul><li>Placed on any method that either takes no parameters or a single parameter of type Entity. </li><li>Called before the POJO is written to the datastore Entity. </li><li>Can be specified on multiple methods in this class or any base class. </li><li>Methods are called in declared order, with superclass methods first. </li></ul><h2><a name="@javax.persistence.Transient"></a>@javax.persistence.Transient<a href="#@javax.persistence.Transient" class="section_anchor"></a></h2><ul><li>Placed on any field </li><li>Makes the field opaque to storage in the datastore; the field will be ignored for both read and write. </li><li>Not to be confused with <i>transient</i> fields which <strong>will</strong> be persisted in the datastore but will not be serialized during Java or GWT serialization. </li></ul>
 </div>
 </div>
 </td><tr>
</table>
 </div>



 <script src="http://www.gstatic.com/codesite/ph/4349413266511071651/js/dwiki_scripts_20081003.js"></script>


<script type="text/javascript" src="http://www.gstatic.com/codesite/ph/4349413266511071651/js/dit_scripts.js"></script>


<script type="text/javascript" src="https://apis.google.com/js/plusone.js">
</script>

 </body>
</html>

